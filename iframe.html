<!DOCTYPE html>
<html>
  <head>
    <title>Riot iframe</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <style>
      body { margin: 0; }
    </style>

    <script src="//cdn.jsdelivr.net/riot/2.3/riot+compiler.min.js"></script>
    <script>
      window.addEventListener('message', function(e) {
        try {
          var tagName = e.data.match(/<([^>]+)>/)[1]
          riot.compile(e.data)
          riot.mount('div#component', tagName)
        } catch (err) {
          window.top.console.log(err, e.data);
          // riot.compile('<error>' + err + '</error>')
          // riot.mount('div#component', 'error')
        }
      }, false)
    </script>
  </head>
  <body>
    <div id="component"></div>
  </body>
</html>
